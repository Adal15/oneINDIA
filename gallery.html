<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="gallery.css">
  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"referrerpolicy="no-referrer"/>
<script src="https://cdn.jsdelivr.net/npm/mixitup@3/dist/mixitup.min.js"></script>
<script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
      integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
</head>
<body>
 <div id="head_content"></div>
      <div id="body_content">

 <section class="contact-us2">
    <div class="admission2">
      <!-- <h2 class="color-changing-text">Admission Open For Year 2025-2027</h2> -->
      <p>Our Gallery</p>
    </div>
  </section>
  <!-- FILTER BUTTONS -->
    <div class="controls">
      <button type="button"  class="filter active" data-filter="all">All</button>
      <button  type="button" class="filter" data-filter=".activities">Activities</button>
      <button  type="button" class="filter" data-filter=".sports">Annual Sports</button>
      <button  type="button" class="filter" data-filter=".infrastructure">
        Infrastructure
      </button>
      <button class="filter" data-filter=".seminars">Seminars</button>
    </div>

    <!-- GALLERY -->
    <div class="gallery-container">
      <div class="mix gallery-item infrastructure">
        <img src="images/college building.png" alt="College Building" />
        <div class="caption">College Building</div>
      </div>
      <div class="mix gallery-item infrastructure">
        <img src="images/computerlab22.jpg" alt="Computer Lab" />
        <div class="caption">ICT Lab</div>
      </div>
      <div class="mix gallery-item infrastructure">
        <img src="images/readingroom23.jpg" alt="Reading Room" />
        <div class="caption">Reading Room</div>
      </div>
      <div class="mix gallery-item infrastructure">
        <img src="images/classroom4.jpg" alt="Classroom" />
        <div class="caption">Art & Craft Lab</div>
      </div>
      <div class="mix gallery-item infrastructure">
        <img src="images/psyslab6.png" alt="" />
        <div class="caption">Psychology Lab</div>
      </div>
      <div class="mix gallery-item seminars">
       <img src="images/1gal-Nationalseminar.jpeg" alt="" />
        <div class="caption">National Seminar</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/2gal-AnnualFunction.png" alt="" />
        <div class="caption">Annual Function</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/3gal-independence.png" alt="" />
        <div class="caption">Independence Day</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/4gal-teacherday.png" alt="" />
        <div class="caption">Teachers Day</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/5gal-republicDay.png" alt="" />
        <div class="caption">Republic Day</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/6gal-event.png" alt="" />
        <div class="caption">Events Price Distribution</div>
      </div>
      <div class="mix gallery-item activities">
        <img src="images/7gal-cultural.png" alt="" />
        <div class="caption">Cultural Program</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/8gal-race.jpg" alt="" />
        <div class="caption">100 Mtr Race-Mens</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/9gal-niddle.jpg" alt="" />
        <div class="caption">Niddle & Thread Race</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/10gal-sac.jpg" alt="" />
        <div class="caption">Sac Race</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/11gal.png" alt="" />
        <div class="caption">Musical Chair</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/12gal.png" alt="" />
        <div class="caption">50 Mtr Race-Girls</div>
      </div>
      <div class="mix gallery-item sports">
        <img src="images/13gal.png" alt="" />
        <div class="caption">Triple Leg Race </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/14gal.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/15gal.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/16gal-seminar.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/17gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/18gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/14gal.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/19gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/20gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/21gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/23gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
      <div class="mix gallery-item seminars">
        <img src="images/24gal-semi.jpeg" alt="" />
        <div class="caption">Seminar </div>
      </div>
    </div>


    <!-- LIGHTBOX -->
    <div class="lightbox">
      <span class="close-btn">&times;</span>
      <span class="arrow left">&#10094;</span>
      <img src="" alt="Enlarged Image" />
      <div class="lightbox-caption"></div>
      <span class="arrow right">&#10095;</span>
    </div>
    
    <script>
document.addEventListener("DOMContentLoaded", function() {
  const containerEl = document.querySelector(".gallery-container");
  if (!containerEl) return;

  // Initialize MixItUp
  const mixer = mixitup(containerEl, {
    selectors: { target: '.mix' },
    animation: { enable: false }
  });

  const buttons = document.querySelectorAll(".controls .filter");
  const captions = document.querySelectorAll(".gallery-item .caption");

  // Function to toggle captions
  function toggleCaptions(show) {
    captions.forEach(caption => {
      caption.style.display = show ? "block" : "none";
    });
  }

  // Initially hide captions (for 'All')
  toggleCaptions(false);

  // Handle filter button clicks
  buttons.forEach(btn => {
    btn.addEventListener("click", function() {
      buttons.forEach(b => b.classList.remove("active"));
      this.classList.add("active");

      // Get the selected filter type
      const filterType = this.getAttribute("data-filter");

      // Show captions only for specific categories
      if (filterType === ".activities" || filterType === ".infrastructure" || filterType === ".seminars" || filterType === ".sports") {
        toggleCaptions(true);
      } else {
        toggleCaptions(false);
      }
    });
  });

  /* === LIGHTBOX === */
  const lightbox = document.querySelector(".lightbox");
  const lightboxImg = document.querySelector(".lightbox img");
  const lightboxCaption = document.querySelector(".lightbox-caption");
  const closeBtn = document.querySelector(".close-btn");
  const leftArrow = document.querySelector(".arrow.left");
  const rightArrow = document.querySelector(".arrow.right");
  let currentIndex = 0;

  function getVisibleImages() {
    return Array.from(document.querySelectorAll(".gallery-item"))
      .filter(item => item.offsetParent !== null)
      .map(item => ({
        img: item.querySelector("img"),
        caption: item.querySelector(".caption")
      }));
  }

  function showLightbox(index) {
    const visible = getVisibleImages();
    if (visible.length === 0) return;
    index = (index + visible.length) % visible.length;
    lightboxImg.src = visible[index].img.src;
    lightboxCaption.textContent = visible[index].caption ? visible[index].caption.textContent : "";
    lightbox.style.display = "flex";
    currentIndex = index;
  }

  containerEl.addEventListener("click", e => {
    const img = e.target.closest(".gallery-item img");
    if (!img) return;
    const visible = getVisibleImages();
    const idx = visible.findIndex(v => v.img === img);
    showLightbox(idx);
  });

  closeBtn.addEventListener("click", () => (lightbox.style.display = "none"));
  lightbox.addEventListener("click", e => {
    if (e.target === lightbox) lightbox.style.display = "none";
  });
  leftArrow.addEventListener("click", () => showLightbox(currentIndex - 1));
  rightArrow.addEventListener("click", () => showLightbox(currentIndex + 1));

    /* === SCROLL & TOUCH NAVIGATION FOR LIGHTBOX === */

  // --- Mouse wheel / touchpad scroll ---
  let scrollTimeout;
  lightbox.addEventListener("wheel", e => {
    e.preventDefault();
    if (scrollTimeout) return;
    scrollTimeout = setTimeout(() => (scrollTimeout = null), 400);

    if (e.deltaY > 0 || e.deltaX > 0) {
      showLightbox(currentIndex + 1);
    } else if (e.deltaY < 0 || e.deltaX < 0) {
      showLightbox(currentIndex - 1);
    }
  });

  // --- Touch swipe (mobile / touchscreen) ---
  let touchStartX = 0;
  let touchEndX = 0;
  const swipeThreshold = 50; // Minimum swipe distance in px to trigger

  lightbox.addEventListener("touchstart", e => {
    if (e.touches.length === 1) {
      touchStartX = e.touches[0].clientX;
    }
  });

  lightbox.addEventListener("touchmove", e => {
    if (e.touches.length === 1) {
      touchEndX = e.touches[0].clientX;
    }
  });

  lightbox.addEventListener("touchend", () => {
    const diff = touchEndX - touchStartX;
    if (Math.abs(diff) > swipeThreshold) {
      if (diff < 0) {
        // Swipe left → next image
        showLightbox(currentIndex + 1);
      } else {
        // Swipe right → previous image
        showLightbox(currentIndex - 1);
      }
    }
    // Reset values
    touchStartX = 0;
    touchEndX = 0;
  });

});

</script>


      </div>
    <div id="foot_content"></div>
        <script type="text/javascript">
        $('#head_content').load('header.html');
        $('#foot_content').load('footer.html');
    </script>

   

</body>
</html>